<!doctype html>
<html >
<head>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <!--[if lt IE 9]>
                <script src="http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js"></script>
        <![endif]-->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />

    <!-- <link rel="stylesheet" type="text/css" href="template.css" /> -->
    <link rel="stylesheet" type="text/css" href="https://cdn.rawgit.com/diversen/pandoc-bootstrap-adaptive-template/959c3622/template.css" />

    <link href="https://vjs.zencdn.net/5.4.4/video-js.css" rel="stylesheet" />

    <script src="https://code.jquery.com/jquery-2.2.1.min.js"></script>
    <!-- <script type='text/javascript' src='menu/js/jquery.cookie.js'></script> -->
    <!-- <script type='text/javascript' src='menu/js/jquery.hoverIntent.minified.js'></script> -->
    <!-- <script type='text/javascript' src='menu/js/jquery.dcjqaccordion.2.7.min.js'></script> -->

    <!-- <link href="menu/css/skins/blue.css" rel="stylesheet" type="text/css" /> -->
    <!-- <link href="menu/css/skins/graphite.css" rel="stylesheet" type="text/css" /> -->
    <!-- <link href="menu/css/skins/grey.css" rel="stylesheet" type="text/css" /> -->
  
    <!-- <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script> -->
        
  
    <!-- <script src="script.js"></script> -->
  
    <!-- <script src="jquery.sticky-kit.js "></script> -->
    <script type='text/javascript' src='https://cdn.rawgit.com/diversen/pandoc-bootstrap-adaptive-template/959c3622/menu/js/jquery.cookie.js'></script>
    <script type='text/javascript' src='https://cdn.rawgit.com/diversen/pandoc-bootstrap-adaptive-template/959c3622/menu/js/jquery.hoverIntent.minified.js'></script>
    <script type='text/javascript' src='https://cdn.rawgit.com/diversen/pandoc-bootstrap-adaptive-template/959c3622/menu/js/jquery.dcjqaccordion.2.7.min.js'></script>

    <link href="https://cdn.rawgit.com/diversen/pandoc-bootstrap-adaptive-template/959c3622/menu/css/skins/blue.css" rel="stylesheet" type="text/css" />
    <link href="https://cdn.rawgit.com/diversen/pandoc-bootstrap-adaptive-template/959c3622/menu/css/skins/graphite.css" rel="stylesheet" type="text/css" />
    <link href="https://cdn.rawgit.com/diversen/pandoc-bootstrap-adaptive-template/959c3622/menu/css/skins/grey.css" rel="stylesheet" type="text/css" />
    <link href="https://cdn.rawgit.com/ryangrose/easy-pandoc-templates/948e28e5/css/elegant_bootstrap.css" rel="stylesheet" type="text/css" />
  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  
    <script src="https://cdn.rawgit.com/diversen/pandoc-bootstrap-adaptive-template/959c3622/script.js"></script>
  
    <script src="https://cdn.rawgit.com/diversen/pandoc-bootstrap-adaptive-template/959c3622/jquery.sticky-kit.js"></script>
    <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
</head>
<body>

    
    <div class="container">
    <div class="row">
            <div id="TOC" class="span3">
        <div class="well toc">

        <ul>
        <li><a href="#psd-version-2.4">PSD version 2.4</a></li>
        <li><a href="#installation">Installation</a></li>
        <li><a href="#a-quick-sneak-peek-of-a-typical-psd-simulation">A quick sneak-peek of a typical PSD simulation</a></li>
        <li><a href="#psd-flags-explained">PSD flags explained</a></li>
        <li><a href="#configuration-flags">Configuration flags</a></li>
        <li><a href="#make-options-for-psd">make options for PSD</a></li>
        </ul>

        </div>
      </div>
            <div class="span9">
            <h2 id="psd-version-2.4">PSD version 2.4</h2>
<hr />
<p><img src="./logo.png" style="zoom:50%;" /></p>
<p>PSD, acronym for Parallel Solid/Structural/Seismic Dynamics, is a finite elements-based solid mechanics solver with capabilities of performing High Performance Computing (HPC) simulations with billions of unknowns. The kernel of PSD is wrapped around <a href="https://freefem.org/">FreeFEM</a> for finite element discretization, and <a href="https://www.mcs.anl.gov/petsc/">PETSc</a> for linear algebra/Preconditioning. PSD solver contains straightforward supports for <em>static</em> or <em>dynamic</em> simulations with <em>linear</em> and <em>nonlinear</em> solid mechanics problems. Besides these <a href="https://link.springer.com/article/10.1007/s00466-014-1109-y"><em>hybrid-phase field fracture mechanics</em></a> models have also been incorporated within PSD. For dynamics the <a href="https://hal.archives-ouvertes.fr/hal-00345290/document"><em>genralized-<span class="math inline"><em>α</em></span> model</em></a> for time discretization is used, this models enable straightforward use of Newmark-<span class="math inline"><em>β</em></span>, central difference, or HHT as time discretization. PSD uses sate-of-the art domain-decomposition paradigm via <a href="https://www.sciencedirect.com/science/article/pii/S0022407317309597"><em>vectorial finite elements</em></a> for parallel computing and all solvers are proven to scale quasi-optimally. PSD has proven scalabilty uptill 24,000 cores with largest problem solved containing over 5 Billion unknowns.</p>
<p>Besides the parallel suite, PSD also includes a sequential solver which does not require <a href="https://www.mcs.anl.gov/petsc/">PETSc</a>.</p>
<p>PSD works for two and three dimensional problems only. Unstructured meshes (triangular for 2D and tetrahedral for 3D) are supported in <a href="https://www.ljll.math.upmc.fr/frey/software.html">MEDIT's</a> <code>.mesh</code> format or <a href="http://gmsh.info/">Gmsh's</a> <code>.msh</code> format. PSD post processing is done via <code>.pvd</code> ,<code>.vtk</code> and <code>.vtu</code> files of the <a href="https://www.paraview.org/">ParaView</a> platform.</p>
<h2 id="installation">Installation</h2>
<p>PSD is a cross-platform FEM solver built to work with Linux/Unix platforms. PSD has successfully been deployed on the following platforms:</p>
<ul>
<li>CentOS 7 / 8</li>
<li>Ubuntu 16.04 / 18.04 / 20.04 / 22.04</li>
<li>Raspberry Pi</li>
<li>Fedora 30 / 32 / 34</li>
<li>MacOS X Puma:10.1.5</li>
</ul>
<p>Before installing PSD please ensure that you have the following dependencies installed on your OS.</p>
<p><strong>Dependencies</strong></p>
<p>PSD has some essential prerequisites without which PSD will not function. These dependencies can either be preinstalled by user. In that case following list needs to be installed, and assured that these are intercompatiable.</p>
<table>
<thead>
<tr class="header">
<th>Package</th>
<th>Version</th>
<th>Essential</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="https://www.gnu.org/software/automake/">automake</a></td>
<td>Version <strong>2.8</strong> or higher</td>
<td>YES</td>
</tr>
<tr class="even">
<td><a href="https://freefem.org/">FreeFEM</a></td>
<td>Version <strong>4.10</strong></td>
<td>YES</td>
</tr>
<tr class="odd">
<td><a href="https://www.mcs.anl.gov/petsc/">PETSc</a></td>
<td>Version <strong>3.16.1</strong></td>
<td>YES</td>
</tr>
<tr class="even">
<td><a href="http://gmsh.info/">Gmsh</a></td>
<td>Version <strong>4.8.4</strong></td>
<td>YES</td>
</tr>
<tr class="odd">
<td><a href="http://www.cplusplus.com/">C++</a>, C</td>
<td>Version <strong>7</strong> or Higher</td>
<td>YES</td>
</tr>
<tr class="even">
<td>MPI</td>
<td>Version <strong>2.0</strong> or Higher (choose either <a href="https://www.mpich.org/">Mpich</a> or <a href="https://www.open-mpi.org/">Open MPI</a>)</td>
<td>YES</td>
</tr>
<tr class="odd">
<td><a href="https://git-scm.com/">git</a></td>
<td>-</td>
<td>YES</td>
</tr>
<tr class="even">
<td><a href="https://www.salome-platform.org/">salome</a></td>
<td>Version <strong>9</strong> or Higher</td>
<td>OPTIONAL</td>
</tr>
<tr class="odd">
<td><a href="http://tfel.sourceforge.net/">MFront</a></td>
<td>Version <strong>3.4.0</strong></td>
<td>OPTIONAL</td>
</tr>
<tr class="even">
<td><a href="https://thelfer.github.io/mgis/web/bindings-cxx.html">MGIS</a></td>
<td>Version <strong>1.2</strong></td>
<td>OPTIONAL</td>
</tr>
<tr class="odd">
<td><a href="http://www.gnuplot.info/">gnuplot</a></td>
<td>Version <strong>4.0</strong> or Higher</td>
<td>OPTIONAL</td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>Note that PETSc and FreeFEM need to be compiled with METIS, ParMETIS, and hpddm support, in this case these form extra dependencies. The user in incharge of making sure that all the dependencies are met before installing PSD. Have a look at <code>Download.MD</code> file which explains a little bit about the dependencies and also provides the version and the links to download the dependencies from.</p>
<p>Generally there are two procedures of installing PSD.</p>
<ul>
<li><em>Installation Procedure 1: I install my own dependencies</em>.</li>
<li><em>Installation Procedure 2: PSD installs all dependencies</em>.</li>
</ul>
<p>Among the two the second one is the recommended. With <em>Installation Procedure 1</em> user takes charge and installs all the dependencies. To follow this type of installation read the section <em>Installation Procedure 1: I install my own dependencies</em>. Alternatively, PSD can attempt to build and compile FreeFEM, PETSc, Gmsh, MFront, and MGIS for you. In this case, user needs to ensure that automake, C/C++, git, and MPI is available in the system and that your system has an active internet connection. To know how this type of installation is done, please skip to section <em>Installation Procedure 2: PSD installs all dependencies</em>.</p>
<h4 id="installation-procedure-1-i-install-my-own-dependencies">Installation Procedure 1: I install my own dependencies</h4>
<ul>
<li><p>Grab the latest copy of PSD. The code is hosted on GitLab <a href="https://gitlab.com/PsdSolver/psd_sources">repository</a>.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">git</span> clone https://gitlab.com/PsdSolver/psd_sources.git PSD-Sources</code></pre></div></li>
<li><p>Use automake within the cloned PSD folder (<code>psd_sources</code>)</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">autoreconf</span> -i</code></pre></div></li>
<li><p>Configure PSD within the cloned folder</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">./configure</span></code></pre></div>
<p><strong>Note</strong>: <code>./configure</code> will install PSD in <code>/usr/local/bin</code> and you would need <code>sudo</code> rights (superuser) to perform installation, for non <code>sudo</code> users or for local install consider changing directory of installation. To change this directory use <code>--prefix=Your/Own/Path</code> with <code>./configure</code>. Remember to add <code>Your/Own/Path</code> to your <code>$PATH</code> variable, you can do so by <code>export PATH=$PATH:Your/Own/Path</code>.</p></li>
</ul>
<p><strong>Note</strong>: <code>./configure</code> will try to look for installation of FreeFEM, MGIS, Mfront, and Gmsh in your <code>PATH</code> directories. If you have these packages installed in some other directory this should be specified during <code>./configure</code> by using flags <code>--with-FreeFEM=</code> , <code>--with-Gmsh=</code>, etc. as shown below. For example</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">./configure</span> --prefix=<span class="va">$HOME</span>/Install/local \
  --with-mgis=<span class="va">$HOME</span>/Install/local/mgis   \
  --with-mfront=<span class="va">$HOME</span>/Install/local/mfront/bin/mfront  \
  --with-FreeFEM=<span class="va">$HOME</span>/Install/local/FreeFem/bin       \
  --with-Gmsh=<span class="va">$HOME</span>/Install/local/Gmsh/bin        </code></pre></div>
<p>Additionally <code>--with-salome=/salome/install/dir</code> can be used for compiling PSD with SALOME support.</p>
<ul>
<li>Make PSD directives</li>
</ul>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">make</span></code></pre></div>
<ul>
<li><p>Install PSD</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">sudo</span> make install</code></pre></div>
<p><strong>Note</strong> : You should not use <code>sudo</code> if you have used <code>--prefix</code> during the <code>./configure</code> phase.</p></li>
<li><p>Install PSD tutorials</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">make</span> tutorials</code></pre></div></li>
</ul>
<p>Now you should have the PSD solver installed on your machine. Note that, the solver will be installed at <code>usr/bin</code> or <code>usr/local/bin</code> directories if you used <code>sudo make install</code> or else it will be in your <code>--prefix</code> location. The PSD tutorials are installed in <code>$HOME/PSD-tutorials</code>.</p>
<p><strong>Additional FreeFEM tweak for brittle fracture mechanics</strong></p>
<p>Note that this procedure is only recommended if you are interested in using PSD for brittle fracture problems. In your FreeFEM source files (installation) go to <code>src/femlib/fem.cpp</code> , in this file replace the lines of code</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">R</span> seuil=hm/splitmax/4.0<span class="kw">;</span></code></pre></div>
<p>by the following</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">R</span> seuil=hm/splitmax/4.0/1000.0<span class="kw">;</span></code></pre></div>
<h4 id="installation-procedure-2-psd-installs-all-the-dependencies">Installation Procedure 2: PSD installs all the dependencies</h4>
<p><strong>Note</strong>: please make sure that you are using PSD version 2.5 or above.</p>
<ul>
<li><p>Grab the latest copy of PSD. The code is hosted on GitLab <a href="https://gitlab.com/PsdSolver/psd_sources">repository</a>.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">git</span> clone https://gitlab.com/PsdSolver/psd_sources.git PSD-Sources</code></pre></div></li>
<li><p>We will install PSD and all its dependencies in folder <code>/home/PSDinstall</code> . Let us start by making it a temporary environmental variable.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="bu">export</span> <span class="va">PREFIXPSD=</span>/home/PSDinstall</code></pre></div></li>
<li><p>Use <code>automake</code> within the cloned folder and configure PSD</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">autoreconf</span> -i <span class="kw">&amp;&amp;</span> <span class="ex">./configure</span> --prefix=<span class="va">$PREFIXPSD</span> --with-dependencies=yes</code></pre></div>
<p><strong>Note</strong>: we will install PSD in <code>/home/PSDinstall</code> and you would need read and write rights to perform installation in this folder. <code>--with-dependencies=yes</code> uses <code>wget</code> and internet, so make sure you are connected. To bypass the internet limitation, for instance on clusters or supercomputers, users can provide the tarball files <code>*.tar.gz</code> files of the dependencies within the <code>/ext</code> folder and use the flag <code>--with-zipped_dependecies</code>.<br />
<strong>Note</strong>: for CentOS7 you might have to load MPI with <code>module load mpi/openmpi-x86_64</code></p></li>
<li><p>Make all dependencies</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="bu">cd</span> ext <span class="kw">&amp;&amp;</span> <span class="fu">make</span> <span class="kw">&amp;&amp;</span> <span class="bu">cd</span> ..</code></pre></div></li>
<li><p>The <code>PATH</code> and <code>LSD_LIBRARY_PATH</code> variables need to be updated. Add the following two line to your <code>~/.bashrc</code></p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="bu">export</span> <span class="va">PATH=</span>/home/PSDInstall/bin:<span class="va">$PATH</span> 
<span class="bu">export</span> <span class="va">LD_LIBRARY_PATH=</span>/home/PSDInstall/lib:<span class="va">$LD_LIBRARY_PATH</span></code></pre></div>
<p>then do</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="bu">source</span> ~/.bashrc</code></pre></div>
<p><strong>Note:</strong> this can also be done temporarily by <code>source $PREFIXPSD/mfront-env.sh</code>. If you follow this temporary approach, every time before using PSD you will need to redo this command.</p></li>
<li><p>Reconfigure PSD with the installed dependencies</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">./configure</span> --prefix=<span class="va">$PREFIXPSD</span> \
  --with-mgis=<span class="va">$PREFIXPSD</span>        \
  --with-mfront=<span class="va">$PREFIXPSD</span>      \
  --with-FreeFEM=<span class="va">$PREFIXPSD</span>/bin \
  --with-Gmsh=<span class="va">$PREFIXPSD</span>/bin</code></pre></div></li>
<li><p>Compile and install PSD</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">make</span> <span class="kw">&amp;&amp;</span> <span class="fu">make</span> install</code></pre></div></li>
<li><p>Perform a check to see if everything works</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">make</span> check</code></pre></div></li>
<li><p>Install PSD tutorials</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">make</span> tutorials</code></pre></div></li>
</ul>
<p>Now you should have the PSD solver installed on your machine. Note that, the solver will be installed at <code>home/PSDInstall</code>. The PSD tutorials are installed in <code>$HOME/PSD-tutorials</code>.</p>
<h2 id="a-quick-sneak-peek-of-a-typical-psd-simulation">A quick sneak-peek of a typical PSD simulation</h2>
<p>PSD is a TUI (terminal user interface) based finite element solver. Parallel or sequential PSD simulations can run on Linux platforms. Command line options (flags) which user enters are used to control the PSD solver. In order to make your choice of physics, model, mesh, etc., command line options need to be typed right into the bash.</p>
<p>A typical PSD simulation is performed in three steps.</p>
<p><strong>Step 1: Setting up the solver</strong></p>
<p>Its time to set up the PSD solver. Open the <code>terminal</code> window at the location of the solver, i.e., <code>$HOME/PSD/Solver.</code> Then run the following command in the <code>terminal</code>.</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">PSD_PreProcess</span> [Options-PSD]</code></pre></div>
<p>Via the command line options you will embed the physics within the solver. This step generates a bunch of <code>.edp</code> files which are native to <a href="https://freefem.org/">FreeFEM</a> and additionally prints out instructions on what to do next. You then need to open and edit couple of these files via your favourite text editor, which could be <code>vim</code>, <code>gedit</code> ,<code>Notepad++</code>, etc. To facilitate the edit process for your will have to go through the instructions printed on the terminal.</p>
<p>For example to generate a sequential 2D elasticity solver for a problem with body force and one Dirichlet border use</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">PSD_PreProcess</span> -dimension 2 -bodyforceconditions 1 -dirichletconditions 1</code></pre></div>
<p><strong>Step 2: Launching the solver</strong></p>
<p>Now you are all set to run your simulation. To do so you will need to do the run the following in the <code>terminal</code>:</p>
<p>if you complied a parallel PSD version</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">PSD_Solve</span> -np <span class="va">$N</span> Main.edp -v 0 -nw</code></pre></div>
<p>if you complied a sequential PSD version</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">PSD_Solve_Seq</span> Main.edp -v 0 -nw</code></pre></div>
<ul>
<li><p>In the parallel command <strong>$N</strong> is an <code>int</code> value, i.e., number of processes that you want to use for performing the simulation in parallel.</p></li>
<li><p>Additional flag <code>-wg</code> may be required while launching the solver, this is in case debug mode is on.</p></li>
</ul>
<p><strong>Step 3: Result visualization</strong> Final step is to have a look at the results of the simulation. PSD can provides output results in the form of plots, finite element fields of interest, etc. ParaView's pvd, vtu, and pvtu files are used for postprocessing (see figure below). ASCII data files that to trace certain quantities of interest like reaction forces, kinetic energies, etc can also be outputted.</p>
<p><img src="./domaindecomp.png" alt="markdownimage" style="zoom:30%;" /></p>
<h2 id="psd-flags-explained">PSD flags explained</h2>
<p>These are a set of commandline flags/options that control your simulation. You can think of it as a way to talk to the solver. Here is a table that lists out some of the options that are available (for full list see documentation). It is advised to print these and have them around when performing a PSD simulation.</p>
<table>
<colgroup>
<col width="28%" />
<col width="10%" />
<col width="61%" />
</colgroup>
<thead>
<tr class="header">
<th>Flag</th>
<th>Type</th>
<th align="left">Comment</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Boolean flags</strong></td>
<td></td>
<td align="left">These flags accept values <em>1|0|yes|no|on|off|true|false</em> and are used to <br />activate or deactivate any functionality of PSD.</td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td align="left"></td>
</tr>
<tr class="odd">
<td><code>-help</code></td>
<td><code>[bool]</code></td>
<td align="left">To activate helping messages. Gives description and list of available flags.</td>
</tr>
<tr class="even">
<td><code>-debug</code></td>
<td><code>[bool]</code></td>
<td align="left">To activate live plot while PSD runs. Development flag.</td>
</tr>
<tr class="odd">
<td><code>-useGFP</code></td>
<td><code>[bool]</code></td>
<td align="left">To activate use of GoFastPlugins. A suite of C++ plugins.</td>
</tr>
<tr class="even">
<td><code>-useRCM</code></td>
<td><code>[bool]</code></td>
<td align="left">Activate mesh level renumbering: Reverse Cuthill Mckee.</td>
</tr>
<tr class="odd">
<td><code>-pipegnu</code></td>
<td><code>[bool]</code></td>
<td align="left">Use to activate real time pipe plotting using <a href="http://www.gnuplot.info/">gnuplot</a>.</td>
</tr>
<tr class="even">
<td><code>-timelog</code></td>
<td><code>[bool]</code></td>
<td align="left">To activate time logging the different phases of the solver.</td>
</tr>
<tr class="odd">
<td><code>-supercomp</code></td>
<td><code>[bool]</code></td>
<td align="left">Use when using a super computer without Xterm support</td>
</tr>
<tr class="even">
<td><code>-useMfront</code></td>
<td><code>[bool]</code></td>
<td align="left">Activate Mfornt interface for PSD.</td>
</tr>
<tr class="odd">
<td><code>-bodyforce</code></td>
<td><code>[bool]</code></td>
<td align="left">To activate volumetric source term (body force).</td>
</tr>
<tr class="even">
<td><code>-vectorial</code></td>
<td><code>[bool]</code></td>
<td align="left">To use vectorial finite element method.</td>
</tr>
<tr class="odd">
<td><code>-pointprobe</code></td>
<td><code>[bool]</code></td>
<td align="left">To postprocess point fields.</td>
</tr>
<tr class="even">
<td><code>-sequential</code></td>
<td><code>[bool]</code></td>
<td align="left">To solve via a sequential solver.</td>
</tr>
<tr class="odd">
<td><code>-energydecomp</code></td>
<td><code>[bool]</code></td>
<td align="left">To activate energy decomposition, only for phase-field.</td>
</tr>
<tr class="even">
<td><code>-doublecouple</code></td>
<td><code>[bool]</code></td>
<td align="left">To activate double couple source for soildynamics.</td>
</tr>
<tr class="odd">
<td><code>-constrainHPF</code></td>
<td><code>[bool]</code></td>
<td align="left">To use constrain condition in hybrid phase-field model.</td>
</tr>
<tr class="even">
<td><code>-top2vol-meshing</code></td>
<td><code>[bool]</code></td>
<td align="left">Activate top-ii-vol point source meshing for soil-dynamics.</td>
</tr>
<tr class="odd">
<td><code>-getreactionforce</code></td>
<td><code>[bool]</code></td>
<td align="left">Activate routine for extraction reactions at surface.</td>
</tr>
<tr class="even">
<td><code>-plotreactionforce</code></td>
<td><code>[bool]</code></td>
<td align="left">Activate realtime pipe plotting using GnuPlot.</td>
</tr>
<tr class="odd">
<td><code>-withmaterialtensor</code></td>
<td><code>[bool]</code></td>
<td align="left">Activate material tensor for building stiffness matrix.</td>
</tr>
<tr class="even">
<td><code>-crackdirichletcondition</code></td>
<td><code>[bool]</code></td>
<td align="left">To activate pre-cracked surface Dirichlet.</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td align="left"></td>
</tr>
<tr class="even">
<td><strong>Integer flags</strong></td>
<td></td>
<td align="left">These flags accept a integer value followed by the flag itself. <br />These integer values are used in PSD simulations for various definitions.</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td align="left"></td>
</tr>
<tr class="even">
<td><code>-dirichletpointconditions</code></td>
<td><code>[int]</code></td>
<td align="left">Number of Dirichlet points.</td>
</tr>
<tr class="odd">
<td><code>-dirichletconditions</code></td>
<td><code>[int]</code></td>
<td align="left">Number of Dirichlet boundaries.</td>
</tr>
<tr class="even">
<td><code>-bodyforceconditions</code></td>
<td><code>[int]</code></td>
<td align="left">Number of regions acted upon by bodyforce.</td>
</tr>
<tr class="odd">
<td><code>-tractionconditions</code></td>
<td><code>[int]</code></td>
<td align="left">Number of Neumann/traction boundaries.</td>
</tr>
<tr class="even">
<td><code>-parmetis_worker</code></td>
<td><code>[int]</code></td>
<td align="left">Number of parallel workers used by ParMetis for partitioning.</td>
</tr>
<tr class="odd">
<td><code>-lagrange</code></td>
<td><code>[int]</code></td>
<td align="left">Lagrange order used for FE spaces. 1 for P1 or 2 for P2.</td>
</tr>
<tr class="even">
<td><code>-dimension</code></td>
<td><code>[int]</code></td>
<td align="left">Accepts values 2 or 3. Use 3 for 3D. and 2 for 2D problem.</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td align="left"></td>
</tr>
<tr class="even">
<td><strong>String flags</strong></td>
<td></td>
<td align="left">These flags accept a string value followed by the flag itself. <br />These string values are used in PSD simulations for various definitions.</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td align="left"></td>
</tr>
<tr class="even">
<td><code>-mesh</code></td>
<td><code>[sting]</code></td>
<td align="left">Provide mesh to be solved by <code>PSD_Solve</code>.</td>
</tr>
<tr class="odd">
<td><code>-timediscretization</code></td>
<td><code>[sting]</code></td>
<td align="left">Time discretization type. Use &quot;generalized_alpha&quot; or &quot;newmark_beta&quot; or &quot;hht_alpha&quot; or &quot;central_difference&quot;</td>
</tr>
<tr class="even">
<td><code>-nonlinearmethod</code></td>
<td><code>[sting]</code></td>
<td align="left">Nonlinear method type. Use &quot;Picard&quot; or &quot;Newton_Raphsons&quot;.</td>
</tr>
<tr class="odd">
<td><code>-reactionforce</code></td>
<td><code>[sting]</code></td>
<td align="left">Reaction force calculation method &quot;stress_based&quot; or &quot;variational_based&quot;.</td>
</tr>
<tr class="even">
<td><code>-doublecouple</code></td>
<td><code>[sting]</code></td>
<td align="left">Soil dynamics double couple. Use &quot;force_based&quot; or &quot;displacement_based&quot;.</td>
</tr>
<tr class="odd">
<td><code>-postprocess</code></td>
<td><code>[sting]</code></td>
<td align="left">To communicate what to postprocess &quot;u&quot;, &quot;v&quot;, &quot;a&quot;, &quot;uv&quot; , &quot;ud&quot;, &quot;ua&quot;, &quot;d&quot;, &quot;ud&quot;, or &quot;uav&quot;.</td>
</tr>
<tr class="even">
<td><code>-partitioner</code></td>
<td><code>[sting]</code></td>
<td align="left">Mesh partitioner could be &quot;<a href="http://glaros.dtc.umn.edu/gkhome/metis/metis/overview">metis</a>&quot; &quot;<a href="http://glaros.dtc.umn.edu/gkhome/metis/parmetis/overview">parmetis</a>&quot; or &quot;<a href="http://www.labri.fr/perso/pelegrin/scotch/">scotch</a>&quot;.</td>
</tr>
<tr class="odd">
<td><code>-problem</code></td>
<td><code>[sting]</code></td>
<td align="left">Interested problem. Use &quot;linear_elasticity&quot;, &quot;damage&quot;, &quot;elastodynamics&quot;, or &quot;soildynamics&quot;.</td>
</tr>
<tr class="even">
<td><code>-model</code></td>
<td><code>[sting]</code></td>
<td align="left">Interested model. Use &quot;hybrid_phase_field&quot; or &quot;Mazar&quot;.</td>
</tr>
</tbody>
</table>
<h2 id="configuration-flags">Configuration flags</h2>
<p>These are a set of commandline flags/options that control your PSD configuration via the automake ligo.</p>
<table>
<colgroup>
<col width="15%" />
<col width="42%" />
<col width="42%" />
</colgroup>
<thead>
<tr class="header">
<th><strong>Flag</strong></th>
<th><strong>Description</strong></th>
<th><strong>Examples</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>--prefix</code></td>
<td>Enter the directory where you wish to install PSD.<br />Note that you will need to have read and write <br />permission for this directory.<br /><br /><em>This flag is an optional flag</em></td>
<td><code>--prefix=/usr</code> <br /> <code>--prefix=/usr/local</code> <br /> <code>--prefix=/home/install</code></td>
</tr>
<tr class="even">
<td><code>--with-FreeFEM</code></td>
<td>Enter the directory where FreeFem binary has been installed. <br />Tip, in your terminal <code>which FreeFem++</code> can help you <br />find this directory.<br /><br /><em>This flag is an optional flag</em></td>
<td><code>--with-FreeFEM=/usr/bin</code> <br /><code>--with-FreeFEM=/home/install/bin</code> <br /><code>--with-FreeFEM=/usr/local/bin</code></td>
</tr>
<tr class="odd">
<td><code>--with-Gmsh</code></td>
<td>Enter the directory where Gmsh binary has been installed. <br />Tip, in your terminal <code>which gmsh</code> can help you find this<br />directory.<br /><br /><em>This flag is an optional flag</em></td>
<td><code>--with-Gmsh=/usr/bin</code> <br /><code>--with-Gmsh=/home/install/bin</code> <br /><code>--with-Gmsh=/usr/local/bin</code></td>
</tr>
<tr class="even">
<td><code>--with-mgis</code></td>
<td>Enter the directory where Mgis has been installed. <br /><br /><em>This flag is an optional flag</em></td>
<td><code>--with-mgis=/usr</code> <br /><code>--with-mgis=/home/install</code> <br /><code>--with-mgis=/usr/local</code></td>
</tr>
<tr class="odd">
<td><code>--with-salome</code></td>
<td>Enter the directory where SALOME has been installed. <br /><br /><em>This flag is an optional flag</em></td>
<td><code>--with-salome=/home/SALOME-UB22.04</code> <br /><code>--with-salome=/home/install/SALOME-UB22.04</code> <br /><code>--with-salome=/usr/local/SALOME-UB22.04</code></td>
</tr>
<tr class="even">
<td><code>--with-mfront</code></td>
<td>Enter the directory where Mfront binary has been installed. <br /><br /><em>This flag is an optional flag</em></td>
<td><code>--with-mfront=/usr/bin</code> <br /><code>--with-mfront=/home/install/bin</code> <br /><code>--with-mfront=/usr/local/bin</code></td>
</tr>
<tr class="odd">
<td><code>--with-dependencies</code></td>
<td>Enter yes or no as an option to this flag, default is no. If yes<br />is entered to this command, PSD will build and compile its<br />dependencies for you. If yes PSD will compile PETSc, FreeFEM,<br />Mgis, MFront, Metis, ParMetis, Scalapack, mumps, hpddm,<br />slepc, suitsspars, tetgen.<br /><br /><em>This flag is an optional flag</em></td>
<td><code>--with-dependencies=yes</code> <br /><code>--with-dependencies=no</code> <br /></td>
</tr>
<tr class="even">
<td><code>--with-zipped_dependencies</code></td>
<td>Enter yes or no as an option to this flag, default is no. If yes<br />is entered to this command, PSD will look for <code>.tar.gz</code> files for <br />dependencies in <code>ext</code> folder and compile them<br />for you. If yes PSD will expect <code>.tar.gz</code> for PETSc, FreeFEM,<br />Mgis, MFront, Metis, ParMetis, Scalapack, mumps, hpddm,<br />slepc, suitsspars, tetgen from ext folder.<br /><br /><em>This flag is an optional flag</em></td>
<td><code>--with-zipped_dependencies=yes</code> <br /><code>--with-zipped_dependencies=no</code> <br /></td>
</tr>
</tbody>
</table>
<h2 id="make-options-for-psd">make options for PSD</h2>
<p>Once <code>./configure</code> runs successfully your Makefiles will be generated thanks to automake. Different options are available with <code>make</code> command some are native to Make (still listed here, sorry to my linux co-geeks)</p>
<p>​</p>
<table>
<colgroup>
<col width="15%" />
<col width="51%" />
<col width="32%" />
</colgroup>
<thead>
<tr class="header">
<th><strong>Command</strong></th>
<th><strong>Description</strong></th>
<th><strong>Example</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>make</code></td>
<td>Command responsible to compile PSD for you. This is necessary.</td>
<td><code>make</code></td>
</tr>
<tr class="even">
<td><code>-j4</code></td>
<td>Activates parallel make, i.e., faster compilation on 4 cores.<br /><br /><em>This flag is an optional flag</em></td>
<td><code>make -j4</code></td>
</tr>
<tr class="odd">
<td><code>install</code></td>
<td>Command that installs PSD for you, this command should follow the <code>make</code> command.</td>
<td><code>make install</code> <br /> <code>make install -j4</code></td>
</tr>
<tr class="even">
<td><code>check</code></td>
<td>Command that should follow <code>make install</code> helps to check the PSD installation.<br /><br /><em>This command is an optional but recommended</em></td>
<td><code>make check</code></td>
</tr>
<tr class="odd">
<td><code>clean</code></td>
<td>Command that cleans PSD's compilation directory.<br /><br /><em>This command is an optional</em></td>
<td><code>make clean</code></td>
</tr>
<tr class="even">
<td><code>maintainer-clean</code></td>
<td>Command that cleans PSD's compilation directory throughly.<br /><br /><em>This command is an optional</em></td>
<td><code>make maintainer-clean</code></td>
</tr>
<tr class="odd">
<td><code>tutorials</code></td>
<td>Command that builds PSD tutorials in <code>$HOME</code> directory. This should <br />follow/be-used only after <code>make install</code>.<br /><br /><em>This command is an optional</em></td>
<td><code>make tutorials</code></td>
</tr>
<tr class="even">
<td><code>install-devl</code></td>
<td>Command that installs developers version of PSD for you, this command should follow <br />the <code>make</code> command.<br /><br /><em>This command is an optional</em></td>
<td><code>make install-devel</code></td>
</tr>
<tr class="odd">
<td><code>documentation</code></td>
<td>Command that builds documentation, in html, and pdf formats. This command should follow <br />the <code>make</code> command. Note that this needs pandoc installed in your system.<br /><br /><em>This command is an optional</em></td>
<td><code>make documentation</code></td>
</tr>
</tbody>
</table>
<p><em>To report bugs, issues, feature-requests contact:</em></p>
<ul>
<li><strong>mohd-afeef.badri@cea.fr</strong></li>
<li><strong>mohd-afeef.badri@hotmail.com</strong></li>
</ul>
            </div>
    </div>
  </div>
  <script src="https://vjs.zencdn.net/5.4.4/video.js"></script>

</body>
</html>
